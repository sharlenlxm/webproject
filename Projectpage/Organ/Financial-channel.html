<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<meta name="renderer" content="webkit">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">
		<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
		<link rel="stylesheet" href="../../public/css/font.css">
		<link rel="stylesheet" href="../../public/css/xadmin.css">
		<script type="text/javascript" src="../../public/js/jquery-3.2.1.js"></script>
		<script type="text/javascript" src="../../public/lib/layui/layui.js" charset="utf-8"></script>
		<script type="text/javascript" src="../../public/js/xadmin.js"></script>
		<!-- 让IE8/9支持媒体查询，从而兼容栅格 -->
		<!--[if lt IE 9]>
      <script src="https://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
      <script src="https://cdn.staticfile.org/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
		<style type="text/css">
			.layui-btn+.layui-btn {
				margin-left: -2px;
			}

			.border {
				box-shadow: 0 0 30px rgba(0, 0, 0, .1);
				padding: 15px;
				box-sizing: border-box;
			}

			.huizongTit {
				font-size: 20px;
				margin-bottom: 20px;
			}

			.huizongCon {
				font-size: 20px;
			}

			.huizongCon span {
				font-size: 20px;
			}
			.col5{width: 20% !important;}
			.col7{width: 14.2857% !important;}
		</style>
	</head>

	<body id="iosiframe">
		<div class="x-nav">
			<span class="layui-breadcrumb">
				<a href="">首页</a>
				<a href="">财务分析</a>
				<a><cite>通道统计分析</cite></a>
			</span>
			<a class="layui-btn layui-btn-small" style="line-height:1.6em;margin-top:3px;float:right" href="javascript:location.replace(location.href);"
			 title="刷新">
				<i class="layui-icon layui-icon-refresh" style="line-height:30px"></i></a>
		</div>
		<div class="x-body">
			<div class="layui-form x-so">
				<div class="layui-input-inline">
					<input type="text" name="couponName" id="startTime" placeholder="开始日期" autocomplete="off" class="layui-input">
				</div>
				<div class="layui-input-inline">--</div>
				<div class="layui-input-inline">
					<input type="text" name="couponName" id="endTime" placeholder="结束日期" autocomplete="off" class="layui-input">
				</div>
				<div class="layui-input-inline coupons_screen">
					<button class="layui-btn" id="searchZhe" title="搜索"><i class="layui-icon">&#xe615;</i></button>
				</div>
			</div>
			<!-- 微信支付 -->
			<fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;">
				<legend>微信支付</legend>
			</fieldset>
			<div class="layui-row layui-col-space30">
				<!--汇总-->
				<div class="layui-col-xs12 layui-col-sm3 layui-col-md3 col5">
					<div class="grid-demo border">
						<p class="huizongTit x-red">笔数汇总</p>
						<p class="huizongCon x-green"><span class="x-green" id="successOrderAmount">0</span>元</p>
					</div>
				</div>
				<div class="layui-col-xs12 layui-col-sm3 layui-col-md3 col5">
					<div class="grid-demo border">
						<p class="huizongTit x-red">金额汇总</p>
						<p class="huizongCon x-green"><span class="x-green" id="successOrderNumber">0</span>笔</p>
					</div>
				</div>
				<div class="layui-col-xs12 layui-col-sm3 layui-col-md3 col5">
					<div class="grid-demo border">
						<p class="huizongTit x-red">手续费汇总</p>
						<p class="huizongCon x-green"><span class="x-green" id="orderAev">0</span>元</p>
					</div>
				</div>
				<div class="layui-col-xs12 layui-col-sm3 layui-col-md3 col5">
					<div class="grid-demo border">
						<p class="huizongTit x-red">退款额汇总</p>
						<p class="huizongCon x-green"><span class="x-green" id="refoundPro">0</span>%</p>
					</div>
				</div>
				<div class="layui-col-xs12 layui-col-sm3 layui-col-md3 col5">
					<div class="grid-demo border">
						<p class="huizongTit x-red">实收汇总</p>
						<p class="huizongCon x-green"><span class="x-green" id="refoundPro">0</span>%</p>
					</div>
				</div>
			</div>
			<div class="layui-row layui-col-space15">
				<div class="layui-col-xs12 layui-col-sm6 layui-col-md6">
					<div class="grid-demo border">
						<div class="">
							<p class="x-red" style="font-size: 20px;margin-bottom: 15px;">商户交易金额TOP10</p>
							<table class="layui-hide" id="members_WX1" lay-filter="members_WX1"></table>
						</div>
					</div>
				</div>
				<div class="layui-col-xs12 layui-col-sm6 layui-col-md6">
					<div class="grid-demo border">
						<div class="">
							<p class="x-red" style="font-size: 20px;margin-bottom: 15px;">商户交易笔数TOP10</p>
							<table class="layui-hide" id="members_WX2" lay-filter="members_WX2"></table>
						</div>
					</div>
				</div>
			</div>
			<!-- 支付宝支付 -->
			<fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;">
				<legend>支付宝支付</legend>
			</fieldset>
			<div class="layui-row layui-col-space30">
				<!--汇总-->
				<div class="layui-col-xs12 layui-col-sm3 layui-col-md3 col5">
					<div class="grid-demo border">
						<p class="huizongTit x-red">笔数汇总</p>
						<p class="huizongCon x-green"><span class="x-green" id="successOrderAmount">0</span>元</p>
					</div>
				</div>
				<div class="layui-col-xs12 layui-col-sm3 layui-col-md3 col5">
					<div class="grid-demo border">
						<p class="huizongTit x-red">金额汇总</p>
						<p class="huizongCon x-green"><span class="x-green" id="successOrderNumber">0</span>笔</p>
					</div>
				</div>
				<div class="layui-col-xs12 layui-col-sm3 layui-col-md3 col5">
					<div class="grid-demo border">
						<p class="huizongTit x-red">手续费汇总</p>
						<p class="huizongCon x-green"><span class="x-green" id="orderAev">0</span>元</p>
					</div>
				</div>
				<div class="layui-col-xs12 layui-col-sm3 layui-col-md3 col5">
					<div class="grid-demo border">
						<p class="huizongTit x-red">退款额汇总</p>
						<p class="huizongCon x-green"><span class="x-green" id="refoundPro">0</span>%</p>
					</div>
				</div>
				<div class="layui-col-xs12 layui-col-sm3 layui-col-md3 col5">
					<div class="grid-demo border">
						<p class="huizongTit x-red">实收汇总</p>
						<p class="huizongCon x-green"><span class="x-green" id="refoundPro">0</span>%</p>
					</div>
				</div>
			</div>
			<div class="layui-row layui-col-space15">
				<div class="layui-col-xs12 layui-col-sm6 layui-col-md6">
					<div class="grid-demo border">
						<div class="">
							<p class="x-red" style="font-size: 20px;margin-bottom: 15px;">商户交易金额TOP10</p>
							<table class="layui-hide" id="members_ZFB1" lay-filter="members_ZFB1"></table>
						</div>
					</div>
				</div>
				<div class="layui-col-xs12 layui-col-sm6 layui-col-md6">
					<div class="grid-demo border">
						<div class="">
							<p class="x-red" style="font-size: 20px;margin-bottom: 15px;">商户交易笔数TOP10</p>
							<table class="layui-hide" id="members_ZFB2" lay-filter="members_ZFB2"></table>
						</div>
					</div>
				</div>
			</div>
			<!-- 富友支付 -->
			<fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;">
				<legend>富友支付</legend>
			</fieldset>
			<div class="layui-row layui-col-space30">
				<!--汇总-->
				<div class="layui-col-xs12 layui-col-sm3 layui-col-md3 col7">
					<div class="grid-demo border">
						<p class="huizongTit x-red">笔数汇总</p>
						<p class="huizongCon x-green"><span class="x-green" id="successOrderAmount">0</span>元</p>
					</div>
				</div>
				<div class="layui-col-xs12 layui-col-sm3 layui-col-md3 col7">
					<div class="grid-demo border">
						<p class="huizongTit x-red">金额汇总</p>
						<p class="huizongCon x-green"><span class="x-green" id="successOrderNumber">0</span>笔</p>
					</div>
				</div>
				<div class="layui-col-xs12 layui-col-sm3 layui-col-md3 col7">
					<div class="grid-demo border">
						<p class="huizongTit x-red">手续费汇总</p>
						<p class="huizongCon x-green"><span class="x-green" id="orderAev">0</span>元</p>
					</div>
				</div>
				<div class="layui-col-xs12 layui-col-sm3 layui-col-md3 col7">
					<div class="grid-demo border">
						<p class="huizongTit x-red">退款额汇总</p>
						<p class="huizongCon x-green"><span class="x-green" id="refoundPro">0</span>%</p>
					</div>
				</div>
				<div class="layui-col-xs12 layui-col-sm3 layui-col-md3 col7">
					<div class="grid-demo border">
						<p class="huizongTit x-red">实收汇总</p>
						<p class="huizongCon x-green"><span class="x-green" id="refoundPro">0</span>%</p>
					</div>
				</div>
				<div class="layui-col-xs12 layui-col-sm3 layui-col-md3 col7">
					<div class="grid-demo border">
						<p class="huizongTit x-red">补贴笔数</p>
						<p class="huizongCon x-green"><span class="x-green" id="refoundPro">0</span>%</p>
					</div>
				</div>
				<div class="layui-col-xs12 layui-col-sm3 layui-col-md3 col7">
					<div class="grid-demo border">
						<p class="huizongTit x-red">补贴金额</p>
						<p class="huizongCon x-green"><span class="x-green" id="refoundPro">0</span>%</p>
					</div>
				</div>
			</div>
			<div class="layui-row layui-col-space15">
				<div class="layui-col-xs12 layui-col-sm3 layui-col-md3">
					<div class="grid-demo border">
						<div class="">
							<p class="x-red" style="font-size: 20px;margin-bottom: 15px;">商户交易金额TOP10</p>
							<table class="layui-hide" id="members_FY1" lay-filter="members_FY1"></table>
						</div>
					</div>
				</div>
				<div class="layui-col-xs12 layui-col-sm3 layui-col-md3">
					<div class="grid-demo border">
						<div class="">
							<p class="x-red" style="font-size: 20px;margin-bottom: 15px;">商户交易笔数TOP10</p>
							<table class="layui-hide" id="members_FY2" lay-filter="members_FY2"></table>
						</div>
					</div>
				</div>
				<div class="layui-col-xs12 layui-col-sm3 layui-col-md3">
					<div class="grid-demo border">
						<div class="">
							<p class="x-red" style="font-size: 20px;margin-bottom: 15px;">商户补贴金额TOP10</p>
							<table class="layui-hide" id="members_FY3" lay-filter="members_FY3"></table>
						</div>
					</div>
				</div>
				<div class="layui-col-xs12 layui-col-sm3 layui-col-md3">
					<div class="grid-demo border">
						<div class="">
							<p class="x-red" style="font-size: 20px;margin-bottom: 15px;">商户补贴笔数TOP10</p>
							<table class="layui-hide" id="members_FY4" lay-filter="members_FY4"></table>
						</div>
					</div>
				</div>
			</div>
			<!-- 新大陆支付 -->
			<fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;">
				<legend>新大陆支付</legend>
			</fieldset>
			<div class="layui-row layui-col-space30">
				<!--汇总-->
				<div class="layui-col-xs12 layui-col-sm3 layui-col-md3 col7">
					<div class="grid-demo border">
						<p class="huizongTit x-red">笔数汇总</p>
						<p class="huizongCon x-green"><span class="x-green" id="successOrderAmount">0</span>元</p>
					</div>
				</div>
				<div class="layui-col-xs12 layui-col-sm3 layui-col-md3 col7">
					<div class="grid-demo border">
						<p class="huizongTit x-red">金额汇总</p>
						<p class="huizongCon x-green"><span class="x-green" id="successOrderNumber">0</span>笔</p>
					</div>
				</div>
				<div class="layui-col-xs12 layui-col-sm3 layui-col-md3 col7">
					<div class="grid-demo border">
						<p class="huizongTit x-red">手续费汇总</p>
						<p class="huizongCon x-green"><span class="x-green" id="orderAev">0</span>元</p>
					</div>
				</div>
				<div class="layui-col-xs12 layui-col-sm3 layui-col-md3 col7">
					<div class="grid-demo border">
						<p class="huizongTit x-red">退款额汇总</p>
						<p class="huizongCon x-green"><span class="x-green" id="refoundPro">0</span>%</p>
					</div>
				</div>
				<div class="layui-col-xs12 layui-col-sm3 layui-col-md3 col7">
					<div class="grid-demo border">
						<p class="huizongTit x-red">实收汇总</p>
						<p class="huizongCon x-green"><span class="x-green" id="refoundPro">0</span>%</p>
					</div>
				</div>
				<div class="layui-col-xs12 layui-col-sm3 layui-col-md3 col7">
					<div class="grid-demo border">
						<p class="huizongTit x-red">补贴笔数</p>
						<p class="huizongCon x-green"><span class="x-green" id="refoundPro">0</span>%</p>
					</div>
				</div>
				<div class="layui-col-xs12 layui-col-sm3 layui-col-md3 col7">
					<div class="grid-demo border">
						<p class="huizongTit x-red">补贴金额</p>
						<p class="huizongCon x-green"><span class="x-green" id="refoundPro">0</span>%</p>
					</div>
				</div>
			</div>
			<div class="layui-row layui-col-space15">
				<div class="layui-col-xs12 layui-col-sm3 layui-col-md3">
					<div class="grid-demo border">
						<div class="">
							<p class="x-red" style="font-size: 20px;margin-bottom: 15px;">商户交易金额TOP10</p>
							<table class="layui-hide" id="members_XDL1" lay-filter="members_XDL1"></table>
						</div>
					</div>
				</div>
				<div class="layui-col-xs12 layui-col-sm3 layui-col-md3">
					<div class="grid-demo border">
						<div class="">
							<p class="x-red" style="font-size: 20px;margin-bottom: 15px;">商户交易笔数TOP10</p>
							<table class="layui-hide" id="members_XDL2" lay-filter="members_XDL2"></table>
						</div>
					</div>
				</div>
				<div class="layui-col-xs12 layui-col-sm3 layui-col-md3">
					<div class="grid-demo border">
						<div class="">
							<p class="x-red" style="font-size: 20px;margin-bottom: 15px;">商户补贴金额TOP10</p>
							<table class="layui-hide" id="members_XDL3" lay-filter="members_XDL3"></table>
						</div>
					</div>
				</div>
				<div class="layui-col-xs12 layui-col-sm3 layui-col-md3">
					<div class="grid-demo border">
						<div class="">
							<p class="x-red" style="font-size: 20px;margin-bottom: 15px;">商户补贴笔数TOP10</p>
							<table class="layui-hide" id="members_XDL4" lay-filter="members_XDL4"></table>
						</div>
					</div>
				</div>
			</div>
			<!-- 易融码支付 -->
			<fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;">
				<legend>易融码支付</legend>
			</fieldset>
			<div class="layui-row layui-col-space30">
				<!--汇总-->
				<div class="layui-col-xs12 layui-col-sm3 layui-col-md3 col7">
					<div class="grid-demo border">
						<p class="huizongTit x-red">笔数汇总</p>
						<p class="huizongCon x-green"><span class="x-green" id="successOrderAmount">0</span>元</p>
					</div>
				</div>
				<div class="layui-col-xs12 layui-col-sm3 layui-col-md3 col7">
					<div class="grid-demo border">
						<p class="huizongTit x-red">金额汇总</p>
						<p class="huizongCon x-green"><span class="x-green" id="successOrderNumber">0</span>笔</p>
					</div>
				</div>
				<div class="layui-col-xs12 layui-col-sm3 layui-col-md3 col7">
					<div class="grid-demo border">
						<p class="huizongTit x-red">手续费汇总</p>
						<p class="huizongCon x-green"><span class="x-green" id="orderAev">0</span>元</p>
					</div>
				</div>
				<div class="layui-col-xs12 layui-col-sm3 layui-col-md3 col7">
					<div class="grid-demo border">
						<p class="huizongTit x-red">退款额汇总</p>
						<p class="huizongCon x-green"><span class="x-green" id="refoundPro">0</span>%</p>
					</div>
				</div>
				<div class="layui-col-xs12 layui-col-sm3 layui-col-md3 col7">
					<div class="grid-demo border">
						<p class="huizongTit x-red">实收汇总</p>
						<p class="huizongCon x-green"><span class="x-green" id="refoundPro">0</span>%</p>
					</div>
				</div>
				<div class="layui-col-xs12 layui-col-sm3 layui-col-md3 col7">
					<div class="grid-demo border">
						<p class="huizongTit x-red">补贴笔数</p>
						<p class="huizongCon x-green"><span class="x-green" id="refoundPro">0</span>%</p>
					</div>
				</div>
				<div class="layui-col-xs12 layui-col-sm3 layui-col-md3 col7">
					<div class="grid-demo border">
						<p class="huizongTit x-red">补贴金额</p>
						<p class="huizongCon x-green"><span class="x-green" id="refoundPro">0</span>%</p>
					</div>
				</div>
			</div>
			<div class="layui-row layui-col-space15">
				<div class="layui-col-xs12 layui-col-sm3 layui-col-md3">
					<div class="grid-demo border">
						<div class="">
							<p class="x-red" style="font-size: 20px;margin-bottom: 15px;">商户交易金额TOP10</p>
							<table class="layui-hide" id="members_YRM1" lay-filter="members_YRM1"></table>
						</div>
					</div>
				</div>
				<div class="layui-col-xs12 layui-col-sm3 layui-col-md3">
					<div class="grid-demo border">
						<div class="">
							<p class="x-red" style="font-size: 20px;margin-bottom: 15px;">商户交易笔数TOP10</p>
							<table class="layui-hide" id="members_YRM2" lay-filter="members_YRM2"></table>
						</div>
					</div>
				</div>
				<div class="layui-col-xs12 layui-col-sm3 layui-col-md3">
					<div class="grid-demo border">
						<div class="">
							<p class="x-red" style="font-size: 20px;margin-bottom: 15px;">商户补贴金额TOP10</p>
							<table class="layui-hide" id="members_YRM3" lay-filter="members_YRM3"></table>
						</div>
					</div>
				</div>
				<div class="layui-col-xs12 layui-col-sm3 layui-col-md3">
					<div class="grid-demo border">
						<div class="">
							<p class="x-red" style="font-size: 20px;margin-bottom: 15px;">商户补贴笔数TOP10</p>
							<table class="layui-hide" id="members_YRM4" lay-filter="members_YRM4"></table>
						</div>
					</div>
				</div>
			</div>
		</div>
		<script src="../../common/config.js"></script>
		<script src="../../common/utility.js"></script>
		<script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/echarts.min.js"></script>
		<script>
			function changeRes(res) {
				var res = res
				if (res.length == 0) {
					return
				}
				for (var i = 0; i < res.length; i++) {
					if (res[i].addtime != null) {
						res[i].addtimea = res[i].addtime.split(" ")[0]
					}
				}
				return res
			}
			var ddDate = []
			var ddData = []
			var serverUrl = window.parent.serverUrl
			var userNumber = JSON.parse(sessionStorage.getItem('organUser')).institutionNumber;
			var myDate = new Date();
			var nowY = myDate.getFullYear();
			var nowM = myDate.getMonth() + 1;
			var nowD = myDate.getDate();
			var enddate = nowY + "-" + (nowM < 10 ? "0" + nowM : nowM) + "-" + (nowD < 10 ? "0" + nowD : nowD); //当前日期    
			var lw = new Date(myDate - 1000 * 60 * 60 * 24 * 30); //最后一个数字30可改，30天的意思
			var lastY = lw.getFullYear();
			var lastM = lw.getMonth() + 1;
			var lastD = lw.getDate();
			var startdate = lastY + "-" + (lastM < 10 ? "0" + lastM : lastM) + "-" + (lastD < 10 ? "0" + lastD : lastD);
			$('#startTime').val(startdate)
			$('#endTime').val(enddate)
			layui.use(['laydate', 'table', 'form', 'layer'], function() {
				var laydate = layui.laydate,
					table = layui.table,
					form = layui.form,
					layer = layui.layer;
				laydate.render({
					elem: '#couponName'
				})
				laydate.render({
					max: enddate,
					elem: '#startTime'
				})
				laydate.render({
					max: enddate,
					elem: '#endTime'
				})
				CmsUtility.postAjaxCall(
					//系统设置
					CmsConfig.addressUrl.Mechanism.orderAbout, {
						"institutionNumber": userNumber
					},
					function(data) {
						if (data.code == '1000') {
							console.log(data)
							$('#orderAev').html(data.data.orderAev)
							$('#refoundPro').html(data.data.refoundPro)
							$('#successOrderAmount').html(data.data.successOrderAmount)
							$('#successOrderNumber').html(data.data.successOrderNumber)

						} else {
							layer.msg(data.msg)
						}
					},
					function(data) {
						console.log('222')
					}
				)
				//微信数据
				//方法级渲染  
				table.render({
					//url: serverUrl + 'memberCard/getAssociatorCards?userNumber=' + userNumber,
					url: CmsConfig.ServiceUrl.ApiRootUrl + CmsConfig.addressUrl.Mechanism.orderAmountTop + '?institutionNumber=' +
						userNumber,
					elem: '#members_WX1',
					id: 'members_WX1',
					response: {
						//res 即为原始返回的数据
						"statusCode": "1000", //解析接口状态
					},
					parseData: function(res) { //res 即为原始返回的数据
						return {
							"code": res.code, //解析接口状态
							"msg": res.msg, //解析提示文本
							"count": res.count, //解析数据长度
							"data": res.data, //解析数据列表
						};
					},
					cols: [
						[{
							title: '排名',
							type: 'numbers'
						}, {
							align: 'center',
							field: 'merchantName',
							title: '商户名称',
						}, {
							align: 'center',
							field: 'successOrderAmount',
							title: '交易金额',
						}]
					],
					done: function(res, curr, count) {}
				});
				//方法级渲染  
				table.render({
					//url: serverUrl + 'memberCard/getAssociatorCards?userNumber=' + userNumber,
					url: CmsConfig.ServiceUrl.ApiRootUrl + CmsConfig.addressUrl.Mechanism.orderNumberTop + '?institutionNumber=' +
						userNumber,
					elem: '#members_WX2',
					id: 'members_WX2',
					response: {
						//res 即为原始返回的数据
						"statusCode": "1000", //解析接口状态
					},
					parseData: function(res) { //res 即为原始返回的数据
						return {
							"code": res.code, //解析接口状态
							"msg": res.msg, //解析提示文本
							"count": res.count, //解析数据长度
							"data": res.data, //解析数据列表
						};
					},
					cols: [
						[{
							title: '排名',
							type: 'numbers'
						}, {
							align: 'center',
							field: 'merchantName',
							title: '商户名称',
						}, {
							align: 'center',
							field: 'successOrderNumber',
							title: '交易笔数',
						}]
					],
					done: function(res, curr, count) {}
				});

				//支付宝数据
				//方法级渲染  
				table.render({
					//url: serverUrl + 'memberCard/getAssociatorCards?userNumber=' + userNumber,
					url: CmsConfig.ServiceUrl.ApiRootUrl + CmsConfig.addressUrl.Mechanism.orderAmountTop + '?institutionNumber=' +
						userNumber,
					elem: '#members_ZFB1',
					id: 'members_ZFB1',
					response: {
						//res 即为原始返回的数据
						"statusCode": "1000", //解析接口状态
					},
					parseData: function(res) { //res 即为原始返回的数据
						return {
							"code": res.code, //解析接口状态
							"msg": res.msg, //解析提示文本
							"count": res.count, //解析数据长度
							"data": res.data, //解析数据列表
						};
					},
					cols: [
						[{
							title: '排名',
							type: 'numbers'
						}, {
							align: 'center',
							field: 'merchantName',
							title: '商户名称',
						}, {
							align: 'center',
							field: 'successOrderAmount',
							title: '交易金额',
						}]
					],
					done: function(res, curr, count) {}
				});
				//方法级渲染  
				table.render({
					//url: serverUrl + 'memberCard/getAssociatorCards?userNumber=' + userNumber,
					url: CmsConfig.ServiceUrl.ApiRootUrl + CmsConfig.addressUrl.Mechanism.orderNumberTop + '?institutionNumber=' +
						userNumber,
					elem: '#members_ZFB2',
					id: 'members_ZFB2',
					response: {
						//res 即为原始返回的数据
						"statusCode": "1000", //解析接口状态
					},
					parseData: function(res) { //res 即为原始返回的数据
						return {
							"code": res.code, //解析接口状态
							"msg": res.msg, //解析提示文本
							"count": res.count, //解析数据长度
							"data": res.data, //解析数据列表
						};
					},
					cols: [
						[{
							title: '排名',
							type: 'numbers'
						}, {
							align: 'center',
							field: 'merchantName',
							title: '商户名称',
						}, {
							align: 'center',
							field: 'successOrderNumber',
							title: '交易笔数',
						}]
					],
					done: function(res, curr, count) {}
				});

				//富友数据
				//方法级渲染  
				table.render({
					//url: serverUrl + 'memberCard/getAssociatorCards?userNumber=' + userNumber,
					url: CmsConfig.ServiceUrl.ApiRootUrl + CmsConfig.addressUrl.Mechanism.orderAmountTop + '?institutionNumber=' +
						userNumber,
					elem: '#members_FY1',
					id: 'members_FY1',
					response: {
						//res 即为原始返回的数据
						"statusCode": "1000", //解析接口状态
					},
					parseData: function(res) { //res 即为原始返回的数据
						return {
							"code": res.code, //解析接口状态
							"msg": res.msg, //解析提示文本
							"count": res.count, //解析数据长度
							"data": res.data, //解析数据列表
						};
					},
					cols: [
						[{
							title: '排名',
							type: 'numbers'
						}, {
							align: 'center',
							field: 'merchantName',
							title: '商户名称',
						}, {
							align: 'center',
							field: 'successOrderNumber',
							title: '交易金额',
						}]
					],
					done: function(res, curr, count) {}
				});
				//方法级渲染  
				table.render({
					//url: serverUrl + 'memberCard/getAssociatorCards?userNumber=' + userNumber,
					url: CmsConfig.ServiceUrl.ApiRootUrl + CmsConfig.addressUrl.Mechanism.orderNumberTop + '?institutionNumber=' +
						userNumber,
					elem: '#members_FY2',
					id: 'members_FY2',
					response: {
						//res 即为原始返回的数据
						"statusCode": "1000", //解析接口状态
					},
					parseData: function(res) { //res 即为原始返回的数据
						return {
							"code": res.code, //解析接口状态
							"msg": res.msg, //解析提示文本
							"count": res.count, //解析数据长度
							"data": res.data, //解析数据列表
						};
					},
					cols: [
						[{
							title: '排名',
							type: 'numbers'
						}, {
							align: 'center',
							field: 'merchantName',
							title: '商户名称',
						}, {
							align: 'center',
							field: 'successOrderNumber',
							title: '交易笔数',
						}]
					],
					done: function(res, curr, count) {}
				});
				//方法级渲染  
				table.render({
					//url: serverUrl + 'memberCard/getAssociatorCards?userNumber=' + userNumber,
					url: CmsConfig.ServiceUrl.ApiRootUrl + CmsConfig.addressUrl.Mechanism.orderSuccessTop + '?institutionNumber=' +
						userNumber,
					elem: '#members_FY3',
					id: 'members_FY3',
					response: {
						//res 即为原始返回的数据
						"statusCode": "1000", //解析接口状态
					},
					parseData: function(res) { //res 即为原始返回的数据
						return {
							"code": res.code, //解析接口状态
							"msg": res.msg, //解析提示文本
							"count": res.count, //解析数据长度
							"data": res.data, //解析数据列表
						};
					},
					cols: [
						[{
							title: '排名',
							type: 'numbers'
						}, {
							align: 'center',
							field: 'merchantName',
							title: '商户名称',
						}, {
							align: 'center',
							field: 'successOrderNumber',
							title: '补贴金额',
						}]
					],
					done: function(res, curr, count) {}
				});
				//方法级渲染  
				table.render({
					//url: serverUrl + 'memberCard/getAssociatorCards?userNumber=' + userNumber,
					url: CmsConfig.ServiceUrl.ApiRootUrl + CmsConfig.addressUrl.Mechanism.orderSuccessTop + '?institutionNumber=' +
						userNumber,
					elem: '#members_FY4',
					id: 'members_FY4',
					response: {
						//res 即为原始返回的数据
						"statusCode": "1000", //解析接口状态
					},
					parseData: function(res) { //res 即为原始返回的数据
						return {
							"code": res.code, //解析接口状态
							"msg": res.msg, //解析提示文本
							"count": res.count, //解析数据长度
							"data": res.data, //解析数据列表
						};
					},
					cols: [
						[{
							title: '排名',
							type: 'numbers'
						}, {
							align: 'center',
							field: 'merchantName',
							title: '商户名称',
						}, {
							align: 'center',
							field: 'successOrderNumber',
							title: '补贴笔数',
						}]
					],
					done: function(res, curr, count) {}
				});

				//新大陆数据
				//方法级渲染  
				table.render({
					//url: serverUrl + 'memberCard/getAssociatorCards?userNumber=' + userNumber,
					url: CmsConfig.ServiceUrl.ApiRootUrl + CmsConfig.addressUrl.Mechanism.orderAmountTop + '?institutionNumber=' +
						userNumber,
					elem: '#members_XDL1',
					id: 'members_XDL1',
					response: {
						//res 即为原始返回的数据
						"statusCode": "1000", //解析接口状态
					},
					parseData: function(res) { //res 即为原始返回的数据
						return {
							"code": res.code, //解析接口状态
							"msg": res.msg, //解析提示文本
							"count": res.count, //解析数据长度
							"data": res.data, //解析数据列表
						};
					},
					cols: [
						[{
							title: '排名',
							type: 'numbers'
						}, {
							align: 'center',
							field: 'merchantName',
							title: '商户名称',
						}, {
							align: 'center',
							field: 'successOrderNumber',
							title: '交易金额',
						}]
					],
					done: function(res, curr, count) {}
				});
				//方法级渲染  
				table.render({
					//url: serverUrl + 'memberCard/getAssociatorCards?userNumber=' + userNumber,
					url: CmsConfig.ServiceUrl.ApiRootUrl + CmsConfig.addressUrl.Mechanism.orderNumberTop + '?institutionNumber=' +
						userNumber,
					elem: '#members_XDL2',
					id: 'members_XDL2',
					response: {
						//res 即为原始返回的数据
						"statusCode": "1000", //解析接口状态
					},
					parseData: function(res) { //res 即为原始返回的数据
						return {
							"code": res.code, //解析接口状态
							"msg": res.msg, //解析提示文本
							"count": res.count, //解析数据长度
							"data": res.data, //解析数据列表
						};
					},
					cols: [
						[{
							title: '排名',
							type: 'numbers'
						}, {
							align: 'center',
							field: 'merchantName',
							title: '商户名称',
						}, {
							align: 'center',
							field: 'successOrderNumber',
							title: '交易笔数',
						}]
					],
					done: function(res, curr, count) {}
				});
				//方法级渲染  
				table.render({
					//url: serverUrl + 'memberCard/getAssociatorCards?userNumber=' + userNumber,
					url: CmsConfig.ServiceUrl.ApiRootUrl + CmsConfig.addressUrl.Mechanism.orderSuccessTop + '?institutionNumber=' +
						userNumber,
					elem: '#members_XDL3',
					id: 'members_XDL3',
					response: {
						//res 即为原始返回的数据
						"statusCode": "1000", //解析接口状态
					},
					parseData: function(res) { //res 即为原始返回的数据
						return {
							"code": res.code, //解析接口状态
							"msg": res.msg, //解析提示文本
							"count": res.count, //解析数据长度
							"data": res.data, //解析数据列表
						};
					},
					cols: [
						[{
							title: '排名',
							type: 'numbers'
						}, {
							align: 'center',
							field: 'merchantName',
							title: '商户名称',
						}, {
							align: 'center',
							field: 'successOrderNumber',
							title: '补贴金额',
						}]
					],
					done: function(res, curr, count) {}
				});
				//方法级渲染  
				table.render({
					//url: serverUrl + 'memberCard/getAssociatorCards?userNumber=' + userNumber,
					url: CmsConfig.ServiceUrl.ApiRootUrl + CmsConfig.addressUrl.Mechanism.orderSuccessTop + '?institutionNumber=' +
						userNumber,
					elem: '#members_XDL4',
					id: 'members_XDL4',
					response: {
						//res 即为原始返回的数据
						"statusCode": "1000", //解析接口状态
					},
					parseData: function(res) { //res 即为原始返回的数据
						return {
							"code": res.code, //解析接口状态
							"msg": res.msg, //解析提示文本
							"count": res.count, //解析数据长度
							"data": res.data, //解析数据列表
						};
					},
					cols: [
						[{
							title: '排名',
							type: 'numbers'
						}, {
							align: 'center',
							field: 'merchantName',
							title: '商户名称',
						}, {
							align: 'center',
							field: 'successOrderNumber',
							title: '补贴笔数',
						}]
					],
					done: function(res, curr, count) {}
				});

				//易融码数据
				//方法级渲染  
				table.render({
					//url: serverUrl + 'memberCard/getAssociatorCards?userNumber=' + userNumber,
					url: CmsConfig.ServiceUrl.ApiRootUrl + CmsConfig.addressUrl.Mechanism.orderAmountTop + '?institutionNumber=' +
						userNumber,
					elem: '#members_YRM1',
					id: 'members_YRM1',
					response: {
						//res 即为原始返回的数据
						"statusCode": "1000", //解析接口状态
					},
					parseData: function(res) { //res 即为原始返回的数据
						return {
							"code": res.code, //解析接口状态
							"msg": res.msg, //解析提示文本
							"count": res.count, //解析数据长度
							"data": res.data, //解析数据列表
						};
					},
					cols: [
						[{
							title: '排名',
							type: 'numbers'
						}, {
							align: 'center',
							field: 'merchantName',
							title: '商户名称',
						}, {
							align: 'center',
							field: 'successOrderNumber',
							title: '交易金额',
						}]
					],
					done: function(res, curr, count) {}
				});
				//方法级渲染  
				table.render({
					//url: serverUrl + 'memberCard/getAssociatorCards?userNumber=' + userNumber,
					url: CmsConfig.ServiceUrl.ApiRootUrl + CmsConfig.addressUrl.Mechanism.orderNumberTop + '?institutionNumber=' +
						userNumber,
					elem: '#members_YRM2',
					id: 'members_YRM2',
					response: {
						//res 即为原始返回的数据
						"statusCode": "1000", //解析接口状态
					},
					parseData: function(res) { //res 即为原始返回的数据
						return {
							"code": res.code, //解析接口状态
							"msg": res.msg, //解析提示文本
							"count": res.count, //解析数据长度
							"data": res.data, //解析数据列表
						};
					},
					cols: [
						[{
							title: '排名',
							type: 'numbers'
						}, {
							align: 'center',
							field: 'merchantName',
							title: '商户名称',
						}, {
							align: 'center',
							field: 'successOrderNumber',
							title: '交易笔数',
						}]
					],
					done: function(res, curr, count) {}
				});
				//方法级渲染  
				table.render({
					//url: serverUrl + 'memberCard/getAssociatorCards?userNumber=' + userNumber,
					url: CmsConfig.ServiceUrl.ApiRootUrl + CmsConfig.addressUrl.Mechanism.orderSuccessTop + '?institutionNumber=' +
						userNumber,
					elem: '#members_YRM3',
					id: 'members_YRM3',
					response: {
						//res 即为原始返回的数据
						"statusCode": "1000", //解析接口状态
					},
					parseData: function(res) { //res 即为原始返回的数据
						return {
							"code": res.code, //解析接口状态
							"msg": res.msg, //解析提示文本
							"count": res.count, //解析数据长度
							"data": res.data, //解析数据列表
						};
					},
					cols: [
						[{
							title: '排名',
							type: 'numbers'
						}, {
							align: 'center',
							field: 'merchantName',
							title: '商户名称',
						}, {
							align: 'center',
							field: 'successOrderNumber',
							title: '补贴金额',
						}]
					],
					done: function(res, curr, count) {}
				});
				//方法级渲染  
				table.render({
					//url: serverUrl + 'memberCard/getAssociatorCards?userNumber=' + userNumber,
					url: CmsConfig.ServiceUrl.ApiRootUrl + CmsConfig.addressUrl.Mechanism.orderSuccessTop + '?institutionNumber=' +
						userNumber,
					elem: '#members_YRM4',
					id: 'members_YRM4',
					response: {
						//res 即为原始返回的数据
						"statusCode": "1000", //解析接口状态
					},
					parseData: function(res) { //res 即为原始返回的数据
						return {
							"code": res.code, //解析接口状态
							"msg": res.msg, //解析提示文本
							"count": res.count, //解析数据长度
							"data": res.data, //解析数据列表
						};
					},
					cols: [
						[{
							title: '排名',
							type: 'numbers'
						}, {
							align: 'center',
							field: 'merchantName',
							title: '商户名称',
						}, {
							align: 'center',
							field: 'successOrderNumber',
							title: '补贴笔数',
						}]
					],
					done: function(res, curr, count) {}
				});
			});

			function searchZhe() {
				// ddDate = []
				// ddData = []
				for (let i = 0; i < ddData.length; i++) {
					ddData.splice(i)
				}
				for (let i = 0; i < ddDate.length; i++) {
					ddDate.splice(i)
				}
				CmsUtility.postAjaxCall(
					//系统设置
					CmsConfig.addressUrl.Mechanism.orderAmountList, {
						"institutionNumber": userNumber,
						"startTime": $('#startTime').val(),
						"endTime": $('#endTime').val()
					},
					function(data) {
						if (data.code == 1000) {
							var res = data.data.orderAmountList

							for (var j = 0; j < res.length; j++) {
								ddDate.push(res[j].date)
								ddData.push(res[j].orderTotalMoney)
							}
							ddDate.sort()
							// 为echarts对象加载数据
							console.log(ddData, ddDate)
						} else {
							layer.msg(data.msg)
						}
					},
					function(data) {
						console.log('222')
					}
				)
			}
			searchZhe()
			$('#searchZhe').click(function() {
				searchZhe()
			})
		</script>
	</body>

</html>
