<!DOCTYPE html>

<html>

	<head>
		<meta charset="utf-8">
		<title>创建会员卡</title>
		<meta name="renderer" content="webkit">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">
		<link rel="stylesheet" type="text/css" href="./css/reset.css" media="all" />
		<link rel="stylesheet" type="text/css" href="//at.alicdn.com/t/font_1192462_drvin8iimxr.css" media="all" />
		<link rel="stylesheet" type="text/css" href="./css/style.css" media="all">
		<style type="text/css">
			[v-cloak] {
				display: none;
			}
		</style>
	</head>
	<body>
		<div class="cardAdd" id="cardAdd">
			<div class="vipBlock">
				<div class="cardA_name">
					<label for="cardAName">会员卡名称：</label>
					<input type="text" name="cardAName" id="cardAName" value="" class="cardANameInput" />
				</div>
				<div class="cardA_bg">
					<p class="recordBtit">自选卡面</p>
					<ul class="cardA_bgul">
						<li class="cardA_bgli" v-for="item in cardA_bgli">
							<img :src="item.vipCardbg">
						</li>
					</ul>
				</div>
			</div>
			<div class="vipBlock">
			</div>
			<div class="viprecordsave">
				<span class="viprecordsavebtn">创建会员卡</span>
			</div>
		</div>
	</body>
	<script src="./js/jquery.min.js"></script>
	<script src="./common/config.js"></script>
	<script src="./common/utility.js"></script>
	<script src="./js/vue.min.js"></script>
	<script type="text/javascript">
		$(document).ready(function() {
			$('.vipInfosave').click(function() {

			})
		})
		var customM, rechargeWli, rechargeBli, cardA_bgli
		customM = 50 //默认金额
		cardA_bgli = [{
			vipCardbg: "./img/vipCard-bg1.png"
		}, {
			vipCardbg: "./img/vipCard-bg2.png"
		}, {
			vipCardbg: "./img/vipCard-bg3.png"
		}, {
			vipCardbg: "./img/vipCard-bg4.png"
		}, {
			vipCardbg: "./img/vipCard-bg5.png"
		}, {
			vipCardbg: "./img/vipCard-bg6.png"
		}, {
			vipCardbg: "./img/vipCard-bg7.png"
		}, {
			vipCardbg: "./img/vipCard-bg8.png"
		}, {
			vipCardbg: "./img/vipCard-bg9.png"
		}]
		rechargeWli = [{ //支付列表
			paymentName: "支付宝",
			paymentType: "0",
			paymentImg: "iconzhifubao"
		}, {
			paymentName: "微信",
			paymentType: "1",
			paymentImg: "iconweixinzhifu"
		}, {
			paymentName: "现金",
			paymentType: "2",
			paymentImg: "iconjinronghongbaoxianjinqianbao"
		}]
		rechargeBli = [{ //金额列表
			rechargeBlim: "10",
			rechargeBlirm: "9.5"
		}, {
			rechargeBlim: "30",
			rechargeBlirm: "29.5"
		}, {
			rechargeBlim: "50",
			rechargeBlirm: "49.5"
		}, {
			rechargeBlim: "100",
			rechargeBlirm: "98.5"
		}, {
			rechargeBlim: "300",
			rechargeBlirm: "295"
		}, {
			rechargeBlim: "500",
			rechargeBlirm: "485"
		}]
		new Vue({
			el: '#cardAdd',
			data: {
				chooseMS: '',
				choosePS: '',
				customM: customM,
				rechargeBli: rechargeBli,
				rechargeWli: rechargeWli
			},
			methods: {
				// 选择金额
				chooseM: function(m, rm, i) {
					this.customM = m
				},
				// 选择支付方式
				chooseP: function(d, n) {
					this.choosePS = n
				}
			},
			watch: {
				customM: function(e) {
					var that = this
					for (var i = 0; i < rechargeBli.length; i++) {
						if (that.customM == rechargeBli[i].rechargeBlim) {
							that.chooseMS = i
							break
						} else {
							that.chooseMS = 1000
						}
					}
				}
			},
			created: function() {
				var that = this
				//初始customM为列表第一项时的值
				// that.customM = rechargeBli[0].rechargeBlim
				// console.log(that.customM)

				//初始customM为50时列表状态
				for (var j = 0; j < rechargeBli.length; j++) {
					if (that.customM == rechargeBli[j].rechargeBlim) {
						that.chooseMS = j
						break
					} else {
						that.chooseMS = 1000
					}
				}
			}
		})
	</script>
</html>
