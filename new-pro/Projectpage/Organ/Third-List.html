<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title></title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="../../public/css/font.css">
    <link rel="stylesheet" href="../../public/css/xadmin.css">
    <script type="text/javascript" src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript" src="../../public/lib/layui/layui.js" charset="utf-8"></script>
    <script type="text/javascript" src="../../public/js/xadmin.js"></script>
    <!-- 让IE8/9支持媒体查询，从而兼容栅格 -->
    <!--[if lt IE 9]>
      <script src="https://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
      <script src="https://cdn.staticfile.org/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <style type="text/css">
    #iosiframe {
        height: 100%;
    }

    .x-body {
        height: calc(100% - 40px);
        box-sizing: border-box;
        overflow: auto;
    }

    .layui-fluid {
        padding: 0;
    }

    .ThirdBody {
        box-shadow: 0 0 20px 0 rgba(0, 0, 0, .2);
        border-radius: 4px;
        border-top: 1px solid #eee;
        border-left: 1px solid #eee;
    }

    .ThirdList {
        border-bottom: 1px solid #eee;
        border-right: 1px solid #eee;
        transition: all 0.35s;
        cursor: pointer;
    }

    .ThirdList:hover {
        box-shadow: 0 0 20px 0 rgba(0, 0, 0, .2);
        z-index: 5000;
    }

    .layui-card-body {
        height: 150px;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .ThirdListB {
        display: flex;
        align-items: center;
        flex-direction: column;
    }

    .ThirdListB img {
        width: 100px;
        height: 100px;
    }

    .ThirdListB p {
        margin-bottom: 10px;
    }

    .layui-form .layui-card-body {
        height: 180px;
    }

    </style>
</head>

<body id="iosiframe">
    <div class="x-nav">
        <span class="layui-breadcrumb">
            <a href="">首页</a>
            <a><cite>应用管理</cite></a>
        </span>
        <a class="layui-btn layui-btn-small" style="line-height:1.6em;margin-top:3px;float:right" href="javascript:location.replace(location.href);" title="刷新">
            <i class="layui-icon layui-icon-refresh" style="line-height:30px"></i></a>
    </div>
    <div class="x-body">
        <!-- 第三方应用管理 -->
        <div class="layui-fluid" style="margin-bottom: 30px;">
            <blockquote class="layui-elem-quote" style="font-size: 20px;">第三方应用管理</blockquote>
            <div class="layui-row layui-col-space1 ThirdBody">
                <div class="layui-col-xs4 layui-col-md1 ThirdList" data-method="jgts">
                    <!-- 填充内容 -->
                    <div class="layui-card">
                        <div class="layui-card-body">
                            <div class="ThirdListB">
                                <img src="../../public/images/jgts.jpg">
                                <p>极光推送</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="layui-col-xs4 layui-col-md1 ThirdList" data-method="zlbz">
                    <div class="layui-card">
                        <div class="layui-card-body">
                            <div class="ThirdListB">
                                <img src="../../public/images/zlbz.jpg">
                                <p>智联博众</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="layui-col-xs4 layui-col-md1 ThirdList" data-method="goeasy">
                    <div class="layui-card">
                        <div class="layui-card-body">
                            <div class="ThirdListB">
                                <img src="../../public/images/goeasy.jpg">
                                <p>GoEasy</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="layui-col-xs4 layui-col-md1 ThirdList" data-method="aldx">
                    <div class="layui-card">
                        <div class="layui-card-body">
                            <div class="ThirdListB">
                                <img src="../../public/images/ali.jpeg" style="padding-top:20px;padding-bottom:20px">
                                <p>阿里短信</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="layui-col-xs4 layui-col-md1 ThirdList" data-method="bdwz">
                    <div class="layui-card">
                        <div class="layui-card-body">
                            <div class="ThirdListB">
                                <img src="../../public/images/bdwz.jpg">
                                <p>百度开放平台</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="layui-col-xs4 layui-col-md1 ThirdList" data-method="kdxf">
                    <div class="layui-card">
                        <div class="layui-card-body">
                            <div class="ThirdListB">
                                <img src="../../public/images/kdxf.jpg">
                                <p>科大讯飞</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="layui-col-xs4 layui-col-md1 ThirdList" data-method="wxkf">
                    <div class="layui-card">
                        <div class="layui-card-body">
                            <div class="ThirdListB">
                                <img src="../../public/images/wxkf.jpg">
                                <p>微信开放平台</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- 自有应用管理 -->
        <form class="layui-form" action="" lay-filter="cardAdd">
            <div class="layui-fluid">
                <blockquote class="layui-elem-quote" style="font-size: 20px;">自有应用管理</blockquote>
                <div class="layui-row layui-col-space1 ThirdBody" style="margin-bottom:20px" id="listTop">
                    <div class="layui-col-xs4 layui-col-md1 ThirdList">
                        <div class="layui-card">
                            <div class="layui-card-body" style="height:180px">
                                <div class="ThirdListB">
                                    <img src="../../public/images/diancan.png" style="width:50px;height:50px;margin:25px">
                                    <p>点餐系统</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- <div class="layui-col-xs4 layui-col-md1 ThirdList">
                        <div class="layui-card">
                            <div class="layui-card-body">
                                <div class="ThirdListB">
                                    <img src="../../public/images/saoma.png" style="width:50px;height:50px;margin:25px">
                                    <p>扫码点餐</p>
                                    <input type="checkbox" disabled="disabled" name="saoma" lay-skin="switch" lay-filter="switchTest" title="开关">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="layui-col-xs4 layui-col-md1 ThirdList">
                        <div class="layui-card">
                            <div class="layui-card-body">
                                <div class="ThirdListB">
                                    <img src="../../public/images/huiyuanka.png" style="width:50px;height:50px;margin:25px">
                                    <p>会员卡系统</p>
                                    <input type="checkbox" disabled="disabled" name="huiyuanka" lay-skin="switch" lay-filter="switchTest" title="开关">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="layui-col-xs4 layui-col-md1 ThirdList">
                        <div class="layui-card">
                            <div class="layui-card-body">
                                <div class="ThirdListB">
                                    <img src="../../public/images/youhuiquan.png" style="width:50px;height:50px;margin:25px">
                                    <p>优惠券系统</p>
                                    <input type="checkbox" disabled="disabled" name="youhuiquan" lay-skin="switch" lay-filter="switchTest" title="开关">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="layui-col-xs4 layui-col-md1 ThirdList">
                        <div class="layui-card">
                            <div class="layui-card-body">
                                <div class="ThirdListB">
                                    <img src="../../public/images/ciyueka.png" style="width:50px;height:50px;margin:25px">
                                    <p>次/月卡系统</p>
                                    <input type="checkbox" disabled="disabled" name="ciyueka" lay-skin="switch" lay-filter="switchTest" title="开关">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="layui-col-xs4 layui-col-md1 ThirdList">
                        <div class="layui-card">
                            <div class="layui-card-body">
                                <div class="ThirdListB">
                                    <img src="../../public/images/yingxiao.png" style="width:50px;height:50px;margin:25px">
                                    <p>营销系统</p>
                                    <input type="checkbox" disabled="disabled" name="yingxiao" lay-skin="switch" lay-filter="switchTest" title="开关">
                                </div>
                            </div>
                        </div>
                    </div> -->
                    
                </div>
                 <div class="layui-row layui-col-space1 ThirdBody"  id="listBottom">
                    
                    <!-- <div class="layui-col-xs4 layui-col-md1 ThirdList">
                        <div class="layui-card">
                            <div class="layui-card-body">
                                <div class="ThirdListB">
                                    <img src="../../public/images/huabei.png" style="width:50px;height:50px;margin:25px">
                                    <p>花呗分期</p>
                                    <input type="checkbox" disabled="disabled" name="huabei" lay-skin="switch" lay-filter="switchTest" title="开关">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="layui-col-xs4 layui-col-md1 ThirdList">
                        <div class="layui-card">
                            <div class="layui-card-body">
                                <div class="ThirdListB">
                                    <img src="../../public/images/weixinfenzhang.png" style="width:50px;height:50px;margin:25px">
                                    <p>微信分账</p>
                                    <input type="checkbox" disabled="disabled" name="weixinfenzhang" lay-skin="switch" lay-filter="switchTest" title="开关">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="layui-col-xs4 layui-col-md1 ThirdList">
                        <div class="layui-card">
                            <div class="layui-card-body">
                                <div class="ThirdListB">
                                    <img src="../../public/images/weixinshualian.png" style="width:50px;height:50px;margin:25px">
                                    <p>微信刷脸</p>
                                    <input type="checkbox" disabled="disabled" name="weixinshualian" lay-skin="switch" lay-filter="switchTest" title="开关">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="layui-col-xs4 layui-col-md1 ThirdList">
                        <div class="layui-card">
                            <div class="layui-card-body">
                                <div class="ThirdListB">
                                    <img src="../../public/images/alishualian.png" style="width:50px;height:50px;margin:25px">
                                    <p>支付宝刷脸</p>
                                    <input type="checkbox" disabled="disabled" name="alishualian" lay-skin="switch" lay-filter="switchTest" title="开关">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="layui-col-xs4 layui-col-md1 ThirdList" >
						<div class="layui-card">
							<div class="layui-card-body">
								<div class="ThirdListB">
									<img src="../../public/images/api.png" style="width:50px;height:50px;margin:25px" >
									<p>API功能</p>
									<input type="checkbox" disabled="disabled" name="api" lay-skin="switch" lay-filter="switchTest" title="开关">
								</div>
							</div>
						</div>
					</div>
					<div class="layui-col-xs4 layui-col-md1 ThirdList" >
						<div class="layui-card">
							<div class="layui-card-body">
								<div class="ThirdListB">
									<img src="../../public/images/fapiao.png" style="width:50px;height:50px;margin:25px" >
									<p>电子发票</p>
									<input type="checkbox" checked="" name="fapiao" lay-skin="switch" lay-filter="switchTest" title="开关">
								</div>
							</div>
						</div>
					</div> -->
                </div>
        </form>
    </div>
    <script src="../../common/config-organ.js"></script>
    <script src="../../common/utility.js"></script>
    <script>
    var serverUrl = window.parent.serverUrl
    var userNumber = JSON.parse(sessionStorage.getItem('organUser')).institutionNumber;
    var imgList = [
        '../../public/images/diancan.png',
        '../../public/images/saoma.png',
        '../../public/images/huiyuanka.png',
        '../../public/images/youhuiquan.png',
        '../../public/images/ciyueka.png',
        '../../public/images/yingxiao.png',
        '../../public/images/huabei.png',
        '../../public/images/weixinfenzhang.png',
        '../../public/images/weixinshualian.png',
        '../../public/images/alishualian.png',
        '../../public/images/api.png',
        '../../public/images/fapiao.png',
        '../../public/images/yushouquan.jpg'
    ]
    var imgList1 = [
        '../../public/images/diancan-1.png',
        '../../public/images/saoma-1.png',
        '../../public/images/huiyuanka-1.png',
        '../../public/images/youhuiquan-1.png',
        '../../public/images/ciyueka-1.png',
        '../../public/images/yingxiao-1.png',
        '../../public/images/huabei-1.png',
        '../../public/images/weixinfenzhang-1.png',
        '../../public/images/weixinshualian-1.png',
        '../../public/images/alishualian-1.png',
        '../../public/images/api-1.png',
        '../../public/images/fapiao-1.png',
        '../../public/images/yushouquan.png'
    ]
    layui.use(['laydate', 'table', 'upload', 'form'], function() { //独立版的layer无需执行这一句
        var $ = layui.jquery,
            upload = layui.upload,
            laydate = layui.laydate,
            table = layui.table,
            form = layui.form,
            admin = layui.admin,
            element = layui.element,
            layer = layui.layer; //独立版的layer无需执行这一句

        //触发事件
        var active = {
            jgts: function(data) { //极光推送
                console.log(data)
                layer.open({
                    type: 2, //此处以iframe举例
                    title: '第三方管理-极光推送',
                    area: ['550px', '350px'],
                    shade: 0.5,
                    resize: false,
                    content: './Third-jgts.html',
                    success: function(layero) {
                        layer.setTop(layero); //重点2
                    }
                });
            },
            zlbz: function(data) { //智联博众
                console.log(data)
                layer.open({
                    type: 2, //此处以iframe举例
                    title: '第三方管理-智联博众',
                    area: ['550px', '350px'],
                    shade: 0.5,
                    resize: false,
                    content: './Third-zlbz.html',
                    success: function(layero) {
                        layer.setTop(layero); //重点2
                    }
                });
            },
            goeasy: function(data) { //GoEasy
                console.log(data)
                layer.open({
                    type: 2, //此处以iframe举例
                    title: '第三方管理-GoEasy',
                    area: ['550px', '300px'],
                    shade: 0.5,
                    resize: false,
                    content: './Third-goeasy.html',
                    success: function(layero) {
                        layer.setTop(layero); //重点2
                    }
                });
            },
            aldx: function(data) { //阿里短信
                console.log(data)
                layer.open({
                    type: 2, //此处以iframe举例
                    title: '第三方管理-阿里短信',
                    area: ['550px', '400px'],
                    shade: 0.5,
                    resize: false,
                    content: './Third-aldx.html',
                    success: function(layero) {
                        layer.setTop(layero); //重点2
                    }
                });
            },
            bdwz: function(data) { //百度文字识别
                console.log(data)
                layer.open({
                    type: 2, //此处以iframe举例
                    title: '第三方管理-百度开放平台',
                    area: ['550px', '400px'],
                    shade: 0.5,
                    resize: false,
                    content: './Third-bdwz.html',
                    success: function(layero) {
                        layer.setTop(layero); //重点2
                    }
                });
            },
            kdxf: function(data) { //科大讯飞
                console.log(data)
                layer.open({
                    type: 2, //此处以iframe举例
                    title: '第三方管理-科大讯飞',
                    area: ['550px', '300px'],
                    shade: 0.5,
                    resize: false,
                    content: './Third-kdxf.html',
                    success: function(layero) {
                        layer.setTop(layero); //重点2
                    }
                });
            },
            wxkf: function(data) { //科大讯飞
                console.log(data)
                layer.open({
                    type: 2, //此处以iframe举例
                    title: '第三方管理-微信开放平台',
                    area: ['550px', '500px'],
                    shade: 0.5,
                    resize: false,
                    content: './Third-wxkf.html',
                    success: function(layero) {
                        layer.setTop(layero); //重点2
                    }
                });
            },
            diancan: function(data) { //科大讯飞
                console.log(data)
                layer.open({
                    type: 2, //此处以iframe举例
                    title: '自有应用管理-点餐系统',
                    area: ['550px', '300px'],
                    shade: 0.5,
                    resize: false,
                    content: './Third-diancan.html',
                    success: function(layero) {
                        layer.setTop(layero); //重点2
                    }
                });
            },
            huiyuan: function(data) { //科大讯飞
                console.log(data)
                layer.open({
                    type: 2, //此处以iframe举例
                    title: '自有应用管理-会员系统',
                    area: ['550px', '300px'],
                    shade: 0.5,
                    resize: false,
                    content: './Third-huiyuan.html',
                    success: function(layero) {
                        layer.setTop(layero); //重点2
                    }
                });
            },
        };
        CmsUtility.postAjaxCall(
						//系统设置
					'insTpa/getInsApps',
					{
						"institutionNumber":userNumber
					},
					function(data){
						if(data.code == 1000){
							var apps = data.data
                            var strTop='',strBottom=''
                        for(var i = 0 ; i < 7;i++){
                            if(apps[i].status == 0){
                                strTop += '<div class="layui-col-xs4 layui-col-md1 ThirdList"> <div class="layui-card"> <div class="layui-card-body" style="height:180px"> <div class="ThirdListB"> <img src="'+ imgList[i] +'" style="width:50px;height:50px;margin:25px"><p>' + apps[i].applyName  + '</p></div></div> </div></div>'
                            }else{
                                strTop += '<div class="layui-col-xs4 layui-col-md1 ThirdList"> <div class="layui-card"> <div class="layui-card-body" style="height:180px"> <div class="ThirdListB"> <img src="'+ imgList1[i] +'" style="width:50px;height:50px;margin:25px"><p>' + apps[i].applyName  + '</p></div></div> </div></div>'
                            }
                            
                        }
                        $("#listTop").html(strTop)
    					for(var i = 7 ; i < apps.length;i++){
                            if(apps[i].status == 0){
                                strBottom += '<div class="layui-col-xs4 layui-col-md1 ThirdList"> <div class="layui-card"> <div class="layui-card-body" style="height:180px"> <div class="ThirdListB"> <img src="'+ imgList[i] +'" style="width:50px;height:50px;margin:25px"><p>' + apps[i].applyName  + '</p></div></div> </div></div>'
                            }else{
                                strBottom += '<div class="layui-col-xs4 layui-col-md1 ThirdList"> <div class="layui-card"> <div class="layui-card-body" style="height:180px"> <div class="ThirdListB"> <img src="'+ imgList1[i] +'" style="width:50px;height:50px;margin:25px"><p>' + apps[i].applyName  + '</p></div></div> </div></div>'
                            }
                            
                        }
                        $("#listBottom").html(strBottom)		
						}else{
							layer.msg(data.msg)
						}
					},
					function(data){
						console.log('222')
					}
				)
        $('.ThirdBody .ThirdList').on('click', function() {
            var othis = $(this),
                method = othis.data('method');
            active[method] ? active[method].call(this, othis) : '';
        });

    });
    </script>
</body>

</html>